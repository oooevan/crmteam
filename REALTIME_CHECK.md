# –ü—Ä–æ–≤–µ—Ä–∫–∞ Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ª–æ–≥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞—é—Ç

–ï—Å–ª–∏ –ª–æ–≥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∏ —Å—Ä–∞–∑—É –∏—Å—á–µ–∑–∞—é—Ç, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ React StrictMode, –∫–æ—Ç–æ—Ä—ã–π –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç useEffect –¥–≤–∞–∂–¥—ã. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## –í–∞–∂–Ω–æ: –ü—Ä–æ–≤–µ—Ä—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ Realtime

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å Realtime –≤ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π Supabase Dashboard
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Database** ‚Üí **Replication**
3. –ü—Ä–æ–≤–µ—Ä—å —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∞–±–ª–∏—Ü–∞ `reports`
4. –ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏:
   ```sql
   ALTER PUBLICATION supabase_realtime ADD TABLE reports;
   ```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å SQL –∑–∞–ø—Ä–æ—Å–æ–º

–í—ã–ø–æ–ª–Ω–∏ –≤ SQL Editor:
```sql
SELECT * FROM pg_publication_tables 
WHERE pubname = 'supabase_realtime' 
AND tablename = 'reports';
```

**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç** —Å –∑–∞–ø–∏—Å—å—é –æ —Ç–∞–±–ª–∏—Ü–µ `reports`.

### –®–∞–≥ 3: –¢–µ—Å—Ç –≤—Ä—É—á–Ω—É—é

1. –û—Ç–∫—Ä–æ–π Supabase Dashboard ‚Üí **Table Editor**
2. –û—Ç–∫—Ä–æ–π —Ç–∞–±–ª–∏—Ü—É `reports`
3. –ù–∞–π–¥–∏ –∑–∞–ø–∏—Å—å —Å `id = 'main-reports'`
4. –ò–∑–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏ JSON –≤ –∫–æ–ª–æ–Ω–∫–µ `data`)
5. –°–æ—Ö—Ä–∞–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
6. –í –±—Ä–∞—É–∑–µ—Ä–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: `üì° –ü–æ–ª—É—á–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Supabase: UPDATE`

**–ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç** - Realtime –Ω–µ –≤–∫–ª—é—á–µ–Ω –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –ø—Ä–æ–≤–µ—Ä—å:

**–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `üîî –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏...`
- `üìä –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏: SUBSCRIBED` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
- `‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–∞` (–µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å SUBSCRIBED)

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –ù–ï `SUBSCRIBED`, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã:**
- `SUBSCRIBED` ‚úÖ - –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
- `TIMED_OUT` ‚ùå - —Ç–∞–π–º–∞—É—Ç
- `CHANNEL_ERROR` ‚ùå - –æ—à–∏–±–∫–∞
- `CLOSED` ‚ö†Ô∏è - –∑–∞–∫—Ä—ã—Ç

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ **–¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö** (–Ω–µ –≤–∫–ª–∞–¥–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞)
2. –í–æ–π–¥–∏ –≤ –æ–±–æ–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
3. –í –ø–µ—Ä–≤–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –≤–Ω–µ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞)
4. –ü–æ–¥–æ–∂–¥–∏ 1-2 —Å–µ–∫—É–Ω–¥—ã
5. –í–æ –≤—Ç–æ—Ä–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   - `üì° –ü–æ–ª—É—á–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Supabase: UPDATE`
   - `üì° –ü–æ–ª—É—á–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é`

**–ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Realtime –≤–∫–ª—é—á–µ–Ω (–®–∞–≥ 1-2)
2. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Supabase (–®–∞–≥ 3)

### –®–∞–≥ 6: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ï—Å–ª–∏ Realtime –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ SQL:

```sql
-- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
SELECT id, updated_at, data 
FROM reports 
WHERE id = 'main-reports';

-- –ü—Ä–æ–≤–µ—Ä—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ Realtime
SELECT * FROM pg_publication_tables 
WHERE pubname = 'supabase_realtime';
```

## –í–∞–∂–Ω–æ

**–ï—Å–ª–∏ Realtime –ù–ï –≤–∫–ª—é—á–µ–Ω –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**

–í—ã–ø–æ–ª–Ω–∏ SQL –∫–æ–º–∞–Ω–¥—É:
```sql
ALTER PUBLICATION supabase_realtime ADD TABLE reports;
```

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
1. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –æ–±–æ–∏—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å - –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å `SUBSCRIBED`
3. –í–Ω–µ—Å–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
4. –ü—Ä–æ–≤–µ—Ä—å –≤—Ç–æ—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä - –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
