# –¶–µ–ø–æ—á–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç –∏–Ω–ø—É—Ç–∞ –¥–æ —Å—Ç–µ–π—Ç–∞

## –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–∏ –≤–≤–æ–¥–µ —á–∏—Å–ª–∞ –≤ –∏–Ω–ø—É—Ç –ª–∏–¥–æ–≤:

### 1. **–ò–Ω–ø—É—Ç –≤ ProjectRow.tsx** (—Å—Ç—Ä–æ–∫–∞ 121-135)
```typescript
<input
  type="number"
  onChange={(e) => {
    console.log('üîµ onChange –∏–Ω–ø—É—Ç–∞ –≤—ã–∑–≤–∞–Ω:', { date, value: e.target.value });
    handleLeadChange(date, e.target.value);
  }}
/>
```

### 2. **handleLeadChange –≤ ProjectRow.tsx** (—Å—Ç—Ä–æ–∫–∞ 56-88)
```typescript
const handleLeadChange = (date: string, val: string) => {
  const num = parseFloat(val) || 0;
  const updatedProject = {
    ...project,
    leads: { ...project.leads, [date]: num }  // ‚Üê –ó–¥–µ—Å—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ leads
  };
  onUpdate(project.id, updatedProject);  // ‚Üê –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ onUpdate
};
```

### 3. **onUpdate = handleUpdate –≤ TargetologistWorkspace** (App.tsx, —Å—Ç—Ä–æ–∫–∞ 647-675)
```typescript
const handleUpdate = (id: string, updated: Project) => {
  // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Å—Å–∏–≤ projects, –∑–∞–º–µ–Ω—è—è –ø—Ä–æ–µ–∫—Ç —Å –Ω—É–∂–Ω—ã–º id
  const updatedProjects = projects.map(p => p.id === id ? updated : p);
  
  // –í—ã–∑—ã–≤–∞–µ–º onUpdateProjects —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –º–∞—Å—Å–∏–≤–æ–º
  onUpdateProjects(updatedProjects);  // ‚Üê –ü–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
};
```

### 4. **onUpdateProjects –∏–∑ App.tsx** (—Å—Ç—Ä–æ–∫–∞ 1099-1105)
```typescript
onUpdateProjects={(p) => {
  console.log('üîÑ onUpdateProjects –≤—ã–∑–≤–∞–Ω –∏–∑ App:', { 
    userName: currentUser.name, 
    projectsCount: p.length
  });
  updateUserProjects(currentUser.name!, p);  // ‚Üê –í—ã–∑–æ–≤ updateUserProjects
}}
```

### 5. **updateUserProjects –≤ App.tsx** (—Å—Ç—Ä–æ–∫–∞ 969-1005)
```typescript
const updateUserProjects = (owner: string, projects: Project[]) => {
  handleUpdate(prev => {
    const newData = { ...prev, [owner]: { projects } };  // ‚Üê –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
    return newData;
  });
};
```

### 6. **handleUpdate (–≥–ª–æ–±–∞–ª—å–Ω—ã–π) –≤ App.tsx** (—Å—Ç—Ä–æ–∫–∞ 912-922)
```typescript
const handleUpdate = (updater: (prev: AppData) => AppData) => {
  setData(prev => {
    const newData = updater(prev);  // ‚Üê –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    return newData;
  });
};
```

### 7. **setData (React useState)** ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–µ–π—Ç–∞ `data`

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: handleLeadChange**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –ª–∏ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç `updatedProject` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ `leads`?
- –õ–æ–≥: `üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å –Ω–æ–≤—ã–º–∏ leads:`

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: handleUpdate –≤ TargetologistWorkspace**
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–∏ `leads` –≤ –º–∞—Å—Å–∏–≤–µ `updatedProjects`?
- –õ–æ–≥: `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –í–°–ï–• –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:`

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: updateUserProjects**
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–∏ `leads` –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–µ–π—Ç–∞?
- –õ–æ–≥: `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–µ–π—Ç–∞:`
- –õ–æ–≥: `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–µ–π—Ç–∞:`

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ 4: handleUpdate (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)**
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è?
- –õ–æ–≥: `üîÑ –°—Ç–µ–π—Ç –æ–±–Ω–æ–≤–ª–µ–Ω:`

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –≥–ª—É–±–æ–∫–∏–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º**: –ï—Å–ª–∏ `leads` –∏–ª–∏ `weeks` –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ–Ω–∏ –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è
2. **–ü—Ä–æ–±–ª–µ–º–∞ —Å React-—Å—Ç–µ–π—Ç–æ–º**: –ï—Å–ª–∏ React –Ω–µ –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å—Ç–µ–π—Ç –Ω–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è
3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –º–µ—Ä–∂–∏–Ω–≥–æ–º**: –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –º–µ—Ä–∂–∞—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ

---

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –≤ –∏–Ω–ø—É—Ç –ª–∏–¥–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
   - `üîµ onChange –∏–Ω–ø—É—Ç–∞ –≤—ã–∑–≤–∞–Ω:` - –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ä–∞–∑—É
   - `üìù handleLeadChange –≤—ã–∑–≤–∞–Ω:` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   - `üîÑ handleUpdate –≤ TargetologistWorkspace –≤—ã–∑–≤–∞–Ω:` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
   - `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –í–°–ï–• –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –∏—Ö `leads`
   - `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–µ–π—Ç–∞:` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
   - `üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–µ–π—Ç–∞:` - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

3. –ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ `leadsCount: 0` –∏–ª–∏ `leads: {}`, –∑–Ω–∞—á–∏—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è–ª–∏—Å—å –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ.
